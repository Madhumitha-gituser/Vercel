<!DOCTYPE html>
<html lang="en">
<head>
    <meta chars                <nav class="hidden md:flex items-center gap-6">
                    <a href="manager-dashboard.html" class="text-gray-600 hover:text-green-600 transition-colors">Team Overview</a>
                    <a href="manager-idp.html" class="text-gray-600 hover:text-green-600 transition-colors">IDP Management</a>
                    <a href="manager-analytics.html" class="text-gray-600 hover:text-green-600 transition-colors">Team Analytics</a>
                    <a href="manager-development.html" class="text-green-600 font-medium border-b-2 border-green-600 pb-1">Development Plans</a>
                    <a href="manager-idp-generator.html" class="text-gray-600 hover:text-green-600 transition-colors">AI IDP Generator</a>
                </nav>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Development Plans - POWERGRID IDP Intelligence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        powergrid: {
                            primary: "#232A7A",
                            secondary: "#DA251D", 
                            light: "#F8F9FA",
                            dark: "#495057",
                            accent: "#4A90E2"
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        .hover-lift {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .hover-lift:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="min-h-screen bg-gray-50 font-sans">
    <!-- Header -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="px-6 py-4">
            <div class="flex items-center justify-between">
                <!-- Logo and Title -->
                <div class="flex items-center gap-4">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg flex items-center justify-center">
                            <i data-lucide="users" class="w-6 h-6 text-white"></i>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold text-gray-900">Development Plans</h1>
                            <p class="text-sm text-gray-600">Team Growth & Learning Management</p>
                        </div>
                    </div>
                </div>
                
                <!-- Navigation -->
                <nav class="hidden md:flex items-center gap-6">
                    <a href="manager-dashboard.html" class="text-gray-600 hover:text-purple-600 transition-colors">Team Overview</a>
                    <a href="manager-idp.html" class="text-gray-600 hover:text-purple-600 transition-colors">IDP Management</a>
                    <a href="manager-analytics.html" class="text-gray-600 hover:text-purple-600 transition-colors">Team Analytics</a>
                    <a href="manager-development.html" class="text-purple-600 font-medium border-b-2 border-purple-600 pb-1">Development Plans</a>
                </nav>

                <!-- User Section -->
                <div class="flex items-center gap-4">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center">
                            <span class="text-white font-bold">RK</span>
                        </div>
                        <div class="hidden md:block">
                            <div class="text-sm font-medium text-gray-900">Rajesh Kumar</div>
                            <div class="text-xs text-gray-600">Team Manager â€¢ Engineering Dept</div>
                        </div>
                    </div>
                    
                    <!-- AI IDP Generator Button -->
                    <div class="flex items-center gap-2">
                        <button onclick="window.location.href='manager-idp-generator.html'" 
                                class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                            <i data-lucide="brain" class="w-4 h-4 inline mr-2"></i>AI IDP Generator
                        </button>
                    </div>
                    
                    <!-- Exit/Logout Button -->
                    <button onclick="exitApplication()" 
                            class="flex items-center justify-center w-10 h-10 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all duration-300 shadow-md hover:shadow-lg"
                            title="Exit Application">
                        <i data-lucide="log-out" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="px-6 py-8">
        <div class="max-w-7xl mx-auto">
            <!-- Development Overview Cards -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="bg-white rounded-2xl p-6 border border-gray-100 hover-lift">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="text-2xl font-bold text-gray-900">23</h3>
                            <p class="text-gray-600">Active Plans</p>
                            <div class="flex items-center gap-1 mt-2">
                                <i data-lucide="trending-up" class="w-4 h-4 text-green-500"></i>
                                <span class="text-green-500 text-sm font-medium">+3 this month</span>
                            </div>
                        </div>
                        <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center">
                            <i data-lucide="target" class="w-6 h-6 text-white"></i>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-2xl p-6 border border-gray-100 hover-lift">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="text-2xl font-bold text-gray-900">87%</h3>
                            <p class="text-gray-600">Avg Completion</p>
                            <div class="flex items-center gap-1 mt-2">
                                <i data-lucide="trending-up" class="w-4 h-4 text-green-500"></i>
                                <span class="text-green-500 text-sm font-medium">+5.2%</span>
                            </div>
                        </div>
                        <div class="w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center">
                            <i data-lucide="check-circle" class="w-6 h-6 text-white"></i>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-2xl p-6 border border-gray-100 hover-lift">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="text-2xl font-bold text-gray-900">8</h3>
                            <p class="text-gray-600">Need Review</p>
                            <div class="flex items-center gap-1 mt-2">
                                <i data-lucide="clock" class="w-4 h-4 text-yellow-500"></i>
                                <span class="text-yellow-500 text-sm font-medium">Action needed</span>
                            </div>
                        </div>
                        <div class="w-12 h-12 bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center">
                            <i data-lucide="alert-circle" class="w-6 h-6 text-white"></i>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-2xl p-6 border border-gray-100 hover-lift">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="text-2xl font-bold text-gray-900">94%</h3>
                            <p class="text-gray-600">Team Engagement</p>
                            <div class="flex items-center gap-1 mt-2">
                                <i data-lucide="heart" class="w-4 h-4 text-red-500"></i>
                                <span class="text-red-500 text-sm font-medium">Excellent</span>
                            </div>
                        </div>
                        <div class="w-12 h-12 bg-gradient-to-r from-red-500 to-red-600 rounded-xl flex items-center justify-center">
                            <i data-lucide="heart" class="w-6 h-6 text-white"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Development Tools & Actions -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
                <!-- Learning Recommendations -->
                <div class="bg-white rounded-2xl border border-gray-100 hover-lift">
                    <div class="p-6 border-b border-gray-100">
                        <h3 class="text-xl font-bold text-gray-900">Recommended Learning Paths</h3>
                    </div>
                    <div class="p-6">
                        <div class="space-y-4">
                            <div class="p-4 bg-blue-50 border border-blue-200 rounded-xl">
                                <div class="flex justify-between items-start mb-2">
                                    <h4 class="font-bold text-blue-900">Cloud Architecture Mastery</h4>
                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">High Priority</span>
                                </div>
                                <p class="text-sm text-blue-800 mb-3">Perfect for Amit, Kavya, and 3 others based on career goals</p>
                                <div class="flex gap-2">
                                    <button onclick="assignLearningPath('cloud')" class="text-blue-600 text-xs hover:text-blue-700">
                                        Assign to Team â†’
                                    </button>
                                </div>
                            </div>

                            <div class="p-4 bg-green-50 border border-green-200 rounded-xl">
                                <div class="flex justify-between items-start mb-2">
                                    <h4 class="font-bold text-green-900">Leadership Development</h4>
                                    <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">Medium Priority</span>
                                </div>
                                <p class="text-sm text-green-800 mb-3">Ideal for high performers ready for next level</p>
                                <div class="flex gap-2">
                                    <button onclick="assignLearningPath('leadership')" class="text-green-600 text-xs hover:text-green-700">
                                        Assign to Team â†’
                                    </button>
                                </div>
                            </div>

                            <div class="p-4 bg-purple-50 border border-purple-200 rounded-xl">
                                <div class="flex justify-between items-start mb-2">
                                    <h4 class="font-bold text-purple-900">Data Science Fundamentals</h4>
                                    <span class="text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded">Growing Demand</span>
                                </div>
                                <p class="text-sm text-purple-800 mb-3">Emerging skill gap across the organization</p>
                                <div class="flex gap-2">
                                    <button onclick="assignLearningPath('datascience')" class="text-purple-600 text-xs hover:text-purple-700">
                                        Assign to Team â†’
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Performance Tracking -->
                <div class="bg-white rounded-2xl border border-gray-100 hover-lift">
                    <div class="p-6 border-b border-gray-100">
                        <h3 class="text-xl font-bold text-gray-900">Performance Insights</h3>
                    </div>
                    <div class="p-6">
                        <div class="space-y-6">
                            <div>
                                <div class="flex justify-between text-sm mb-2">
                                    <span class="text-gray-600">Team Learning Velocity</span>
                                    <span class="text-green-600 font-medium">+12% vs last month</span>
                                </div>
                                <div class="w-full h-3 bg-gray-200 rounded-full">
                                    <div class="w-5/6 h-3 bg-gradient-to-r from-green-500 to-green-600 rounded-full"></div>
                                </div>
                            </div>

                            <div>
                                <div class="flex justify-between text-sm mb-2">
                                    <span class="text-gray-600">Goal Achievement Rate</span>
                                    <span class="text-blue-600 font-medium">89% on track</span>
                                </div>
                                <div class="w-full h-3 bg-gray-200 rounded-full">
                                    <div class="w-5/6 h-3 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full"></div>
                                </div>
                            </div>

                            <div>
                                <div class="flex justify-between text-sm mb-2">
                                    <span class="text-gray-600">Skill Development Index</span>
                                    <span class="text-purple-600 font-medium">Strong growth</span>
                                </div>
                                <div class="w-full h-3 bg-gray-200 rounded-full">
                                    <div class="w-4/5 h-3 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full"></div>
                                </div>
                            </div>

                            <div class="pt-4 border-t border-gray-200">
                                <button onclick="generatePerformanceReport()" 
                                        class="w-full px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors">
                                    <i data-lucide="trending-up" class="w-4 h-4 inline mr-2"></i>Detailed Report
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="bg-white rounded-2xl border border-gray-100 hover-lift">
                    <div class="p-6 border-b border-gray-100">
                        <h3 class="text-xl font-bold text-gray-900">Quick Actions</h3>
                    </div>
                    <div class="p-6">
                        <div class="space-y-3">
                            <button onclick="createTeamGoal()" 
                                    class="w-full flex items-center gap-3 p-3 bg-blue-50 hover:bg-blue-100 rounded-xl transition-colors">
                                <i data-lucide="target" class="w-5 h-5 text-blue-600"></i>
                                <div class="text-left">
                                    <div class="font-medium text-blue-900">Create Team Goal</div>
                                    <div class="text-xs text-blue-700">Set collaborative objectives</div>
                                </div>
                            </button>

                            <button onclick="scheduleTeamReview()" 
                                    class="w-full flex items-center gap-3 p-3 bg-green-50 hover:bg-green-100 rounded-xl transition-colors">
                                <i data-lucide="calendar" class="w-5 h-5 text-green-600"></i>
                                <div class="text-left">
                                    <div class="font-medium text-green-900">Schedule Reviews</div>
                                    <div class="text-xs text-green-700">Plan development meetings</div>
                                </div>
                            </button>

                            <button onclick="createMentorPairs()" 
                                    class="w-full flex items-center gap-3 p-3 bg-purple-50 hover:bg-purple-100 rounded-xl transition-colors">
                                <i data-lucide="users" class="w-5 h-5 text-purple-600"></i>
                                <div class="text-left">
                                    <div class="font-medium text-purple-900">Setup Mentoring</div>
                                    <div class="text-xs text-purple-700">Pair team members</div>
                                </div>
                            </button>

                            <button onclick="analyzeSkillGaps()" 
                                    class="w-full flex items-center gap-3 p-3 bg-yellow-50 hover:bg-yellow-100 rounded-xl transition-colors">
                                <i data-lucide="search" class="w-5 h-5 text-yellow-600"></i>
                                <div class="text-left">
                                    <div class="font-medium text-yellow-900">Analyze Skills Gap</div>
                                    <div class="text-xs text-yellow-700">Identify training needs</div>
                                </div>
                            </button>

                            <button onclick="createLearningChallenge()" 
                                    class="w-full flex items-center gap-3 p-3 bg-red-50 hover:bg-red-100 rounded-xl transition-colors">
                                <i data-lucide="zap" class="w-5 h-5 text-red-600"></i>
                                <div class="text-left">
                                    <div class="font-medium text-red-900">Learning Challenge</div>
                                    <div class="text-xs text-red-700">Gamify team growth</div>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Team Development Plans -->
            <div class="bg-white rounded-2xl border border-gray-100 hover-lift">
                <div class="p-6 border-b border-gray-100">
                    <div class="flex items-center justify-between">
                        <h3 class="text-xl font-bold text-gray-900">Individual Development Plans</h3>
                        <div class="flex gap-3">
                            <select id="filterStatus" onchange="filterDevelopmentPlans()" 
                                    class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                                <option value="all">All Status</option>
                                <option value="active">Active</option>
                                <option value="review">Needs Review</option>
                                <option value="completed">Completed</option>
                            </select>
                            <select id="filterDepartment" onchange="filterDevelopmentPlans()" 
                                    class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                                <option value="all">All Departments</option>
                                <option value="engineering">Engineering</option>
                                <option value="design">Design</option>
                                <option value="finance">Finance</option>
                                <option value="marketing">Marketing</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="p-6">
                    <div id="developmentPlansContainer" class="space-y-4">
                        <!-- Development plans will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Bulk Assignment Modal -->
    <div id="bulkAssignmentModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-2xl p-8 max-w-2xl w-full mx-4">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-2xl font-bold text-gray-900">Bulk Learning Assignment</h3>
                <button onclick="closeBulkAssignment()" class="text-gray-400 hover:text-gray-600">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
            
            <div class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Select Team Members</label>
                    <div id="teamMembersCheckbox" class="grid grid-cols-2 gap-3">
                        <!-- Team member checkboxes will be populated -->
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Learning Path</label>
                    <select id="bulkLearningPath" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                        <option value="">Select Learning Path</option>
                        <option value="cloud">Cloud Architecture Mastery</option>
                        <option value="leadership">Leadership Development</option>
                        <option value="datascience">Data Science Fundamentals</option>
                        <option value="agile">Agile Project Management</option>
                        <option value="cybersecurity">Cybersecurity Basics</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Target Completion</label>
                    <input type="date" id="bulkTargetDate" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Priority Level</label>
                    <select id="bulkPriority" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                        <option value="low">Low Priority</option>
                        <option value="medium">Medium Priority</option>
                        <option value="high">High Priority</option>
                    </select>
                </div>
                
                <div class="flex gap-4 pt-4">
                    <button onclick="executeBulkAssignment()" 
                            class="flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors">
                        Assign to Selected Members
                    </button>
                    <button onclick="closeBulkAssignment()" 
                            class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function exitApplication() {
            // Show confirmation dialog
            const confirmExit = confirm('Are you sure you want to log out?\n\nYou will be redirected to the login page.');
            
            if (confirmExit) {
                // Clear all stored data
                localStorage.clear();
                sessionStorage.clear();
                
                // Show loading state on exit button
                const exitBtn = document.querySelector('[onclick="exitApplication()"]');
                if (exitBtn) {
                    exitBtn.innerHTML = '<i data-lucide="loader" class="w-4 h-4 animate-spin"></i>';
                    exitBtn.disabled = true;
                    lucide.createIcons();
                }
                
                // Add fade-out effect and redirect
                setTimeout(() => {
                    document.body.style.transition = 'opacity 0.5s ease-out';
                    document.body.style.opacity = '0.5';
                    
                    setTimeout(() => {
                        window.location.href = 'login.html';
                    }, 500);
                }, 1000);
            }
        }
        
        // Initialize Lucide icons
        lucide.createIcons();

        // Development plans data
        const developmentPlans = [
            {
                id: 1,
                employeeName: 'Madhumitha M',
                department: 'engineering',
                position: 'Software Engineer',
                status: 'active',
                progress: 85,
                goals: ['Master React Advanced Patterns', 'AWS Certification', 'Team Leadership Skills'],
                completedGoals: 2,
                totalGoals: 3,
                nextReview: '2024-02-15',
                avatar: 'MM'
            },
            {
                id: 2,
                employeeName: 'Amit Nayak',
                department: 'engineering',
                position: 'Senior Developer',
                status: 'review',
                progress: 72,
                goals: ['System Architecture', 'Microservices Design', 'DevOps Practices'],
                completedGoals: 1,
                totalGoals: 3,
                nextReview: '2024-01-30',
                avatar: 'AN'
            },
            {
                id: 3,
                employeeName: 'Kavya Krishnan',
                department: 'design',
                position: 'UI/UX Designer',
                status: 'active',
                progress: 91,
                goals: ['Advanced Figma', 'User Research Methods', 'Design Systems'],
                completedGoals: 2,
                totalGoals: 3,
                nextReview: '2024-02-10',
                avatar: 'KK'
            },
            {
                id: 4,
                employeeName: 'Rohit Mehta',
                department: 'finance',
                position: 'Senior Accountant',
                status: 'review',
                progress: 56,
                goals: ['Financial Analysis', 'Excel Advanced', 'SAP Training'],
                completedGoals: 1,
                totalGoals: 3,
                nextReview: '2024-01-25',
                avatar: 'RM'
            },
            {
                id: 5,
                employeeName: 'Neha Gupta',
                department: 'marketing',
                position: 'Marketing Manager',
                status: 'active',
                progress: 78,
                goals: ['Digital Marketing Strategy', 'Analytics Tools', 'Content Creation'],
                completedGoals: 2,
                totalGoals: 3,
                nextReview: '2024-02-20',
                avatar: 'NG'
            }
        ];

        const teamMembers = [
            { name: 'Madhumitha M', department: 'Engineering' },
            { name: 'Amit Nayak', department: 'Engineering' },
            { name: 'Kavya Krishnan', department: 'Design' },
            { name: 'Rohit Mehta', department: 'Finance' },
            { name: 'Neha Gupta', department: 'Marketing' },
            { name: 'Vikram Sharma', department: 'Finance' }
        ];

        // Check if user has manager role
        document.addEventListener('DOMContentLoaded', function() {
            const userRole = localStorage.getItem('userRole');
            if (userRole !== 'manager') {
                window.location.href = 'login.html';
            }
            
            renderDevelopmentPlans();
            setupBulkAssignmentModal();
        });

        function renderDevelopmentPlans() {
            const container = document.getElementById('developmentPlansContainer');
            container.innerHTML = '';

            developmentPlans.forEach(plan => {
                const statusColor = plan.status === 'active' ? 'bg-green-100 text-green-800' :
                                  plan.status === 'review' ? 'bg-yellow-100 text-yellow-800' :
                                  'bg-blue-100 text-blue-800';

                const planCard = document.createElement('div');
                planCard.className = 'border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow';
                planCard.innerHTML = `
                    <div class="flex items-start justify-between">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center">
                                <span class="text-purple-600 font-bold">${plan.avatar}</span>
                            </div>
                            <div>
                                <h4 class="font-bold text-gray-900">${plan.employeeName}</h4>
                                <p class="text-sm text-gray-600">${plan.position}</p>
                                <span class="text-xs px-2 py-1 rounded ${statusColor} mt-1 inline-block">
                                    ${plan.status.charAt(0).toUpperCase() + plan.status.slice(1)}
                                </span>
                            </div>
                        </div>
                        
                        <div class="flex items-center gap-6">
                            <div class="text-center">
                                <div class="text-2xl font-bold text-gray-900">${plan.progress}%</div>
                                <div class="text-xs text-gray-500">Progress</div>
                            </div>
                            <div class="text-center">
                                <div class="text-2xl font-bold text-gray-900">${plan.completedGoals}/${plan.totalGoals}</div>
                                <div class="text-xs text-gray-500">Goals</div>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="reviewPlan(${plan.id})" 
                                        class="px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors">
                                    Review
                                </button>
                                <button onclick="updatePlan(${plan.id})" 
                                        class="px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors">
                                    Update
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <div class="flex justify-between text-sm mb-2">
                            <span class="text-gray-600">Current Goals Progress</span>
                            <span class="text-gray-500">Next Review: ${plan.nextReview}</span>
                        </div>
                        <div class="w-full h-2 bg-gray-200 rounded-full">
                            <div class="h-2 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full" 
                                 style="width: ${plan.progress}%"></div>
                        </div>
                        <div class="mt-3 flex flex-wrap gap-2">
                            ${plan.goals.map((goal, index) => `
                                <span class="text-xs px-2 py-1 rounded ${index < plan.completedGoals ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-600'}">
                                    ${index < plan.completedGoals ? 'âœ“' : 'â—‹'} ${goal}
                                </span>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(planCard);
            });
        }

        function filterDevelopmentPlans() {
            const statusFilter = document.getElementById('filterStatus').value;
            const departmentFilter = document.getElementById('filterDepartment').value;
            
            // Filter logic would be implemented here
            showNotification(`Filtered by status: ${statusFilter}, department: ${departmentFilter}`, 'info');
        }

        function setupBulkAssignmentModal() {
            const container = document.getElementById('teamMembersCheckbox');
            container.innerHTML = '';

            teamMembers.forEach(member => {
                const checkbox = document.createElement('label');
                checkbox.className = 'flex items-center gap-2 p-2 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer';
                checkbox.innerHTML = `
                    <input type="checkbox" value="${member.name}" class="rounded">
                    <div>
                        <div class="font-medium text-sm">${member.name}</div>
                        <div class="text-xs text-gray-500">${member.department}</div>
                    </div>
                `;
                container.appendChild(checkbox);
            });
        }

        function createBulkAssignment() {
            document.getElementById('bulkAssignmentModal').classList.remove('hidden');
            document.getElementById('bulkAssignmentModal').classList.add('flex');
        }

        function closeBulkAssignment() {
            document.getElementById('bulkAssignmentModal').classList.add('hidden');
            document.getElementById('bulkAssignmentModal').classList.remove('flex');
        }

        function executeBulkAssignment() {
            const selectedMembers = Array.from(document.querySelectorAll('#teamMembersCheckbox input:checked'))
                .map(checkbox => checkbox.value);
            const learningPath = document.getElementById('bulkLearningPath').value;
            const targetDate = document.getElementById('bulkTargetDate').value;
            const priority = document.getElementById('bulkPriority').value;

            if (selectedMembers.length === 0 || !learningPath) {
                showNotification('Please select team members and learning path', 'error');
                return;
            }

            showNotification(`Assigning ${learningPath} to ${selectedMembers.length} team members`, 'info');
            
            setTimeout(() => {
                closeBulkAssignment();
                showNotification('Learning assignments created successfully!', 'success');
            }, 2000);
        }

        function exportDevelopmentReport() {
            showNotification('Generating comprehensive development report...', 'info');
            
            setTimeout(() => {
                const reportData = [
                    'Employee,Department,Position,Status,Progress %,Completed Goals,Total Goals,Next Review',
                    ...developmentPlans.map(plan => 
                        `"${plan.employeeName}","${plan.department}","${plan.position}","${plan.status}","${plan.progress}%","${plan.completedGoals}","${plan.totalGoals}","${plan.nextReview}"`
                    )
                ];
                
                const csvContent = "data:text/csv;charset=utf-8," + reportData.join("\\n");
                const encodedUri = encodeURI(csvContent);
                const link = document.createElement("a");
                link.setAttribute("href", encodedUri);
                link.setAttribute("download", `Development_Plans_Report_${new Date().toISOString().split('T')[0]}.csv`);
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                showNotification('Development report exported successfully!', 'success');
            }, 2000);
        }

        function assignLearningPath(path) {
            const pathNames = {
                'cloud': 'Cloud Architecture Mastery',
                'leadership': 'Leadership Development',
                'datascience': 'Data Science Fundamentals'
            };
            showNotification(`Creating ${pathNames[path]} assignment for recommended team members`, 'success');
        }

        function reviewPlan(planId) {
            const plan = developmentPlans.find(p => p.id === planId);
            showNotification(`Opening development plan review for ${plan.employeeName}`, 'info');
        }

        function updatePlan(planId) {
            const plan = developmentPlans.find(p => p.id === planId);
            showNotification(`Updating development plan for ${plan.employeeName}`, 'info');
        }

        function generatePerformanceReport() {
            showNotification('Generating detailed performance insights...', 'info');
        }

        function createTeamGoal() {
            showNotification('Opening team goal creation wizard...', 'info');
        }

        function scheduleTeamReview() {
            showNotification('Scheduling team development reviews...', 'info');
        }

        function createMentorPairs() {
            showNotification('Setting up mentorship pairs based on skills and goals...', 'info');
        }

        function analyzeSkillGaps() {
            showNotification('Running AI-powered skills gap analysis...', 'info');
        }

        function createLearningChallenge() {
            showNotification('Creating gamified learning challenge for team...', 'info');
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg z-50 ${
                type === 'success' ? 'bg-green-500 text-white' :
                type === 'error' ? 'bg-red-500 text-white' :
                'bg-blue-500 text-white'
            }`;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function logout() {
            localStorage.clear();
            window.location.href = 'login.html';
        }
    </script>
</body>
</html>